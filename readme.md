# Тестовое задание в компанию MEDODS

## Исходная информация по заданию:

### Используемые технологии
- GO
- JWT
- MongoDB

### Задание
Написать часть сервиса аутентификации.
Два REST маршрута:
- Первый маршрут выдает пару Access, Refresh токенов для пользователя сидентификатором (GUID) указанным в параметре запроса
- Второй маршрут выполняет Refresh операцию на пару Access, Refreshтокенов

### Требования
Access токен тип JWT, алгоритм SHA512, хранить в базе строго запрещено.

Refresh токен тип произвольный, формат передачи base64, хранится в базеисключительно в виде bcrypt хеша, должен быть защищен от изменения настороне клиента и попыток повторного использования.

Access, Refresh токены обоюдно связаны, Refresh операцию для Access токена можно выполнить только тем Refresh токеном который был выдан вместе с ним.

### Результат
Результат выполнения задания нужно предоставить в виде исходного кода на Github.

---

## Комментарии к исполнению и рассуждения:
- Для роутинга буду использовать [Echo](https://echo.labstack.com/) роутер
- Для конфигов буду использовать [Viper](https://github.com/ory/viper)
- В Mongo буду использовать для хранения пользователей, пользователя я создам заранее
пароль не будет хеширован
```
{
    "name":"bimba"
    "password":"12345"
}
```
- Как скащано в задании, будет использован SHA512 = HMAC-SHA512 = HS512, значит ключ будет один - симметричный
- Сделаю два ключа, один для access и один для refresh токена, чтобы access мог быть например у другого сервера, а обновлять эти токены мог только мой
- Возвращать токены буду в простом JSON, в безопасности я не силен, но желательно наверное сохранять refresh token в куках и задать соответствующие заголовки чтобы этот кук мог использовать только адрес сервиса аутентификации и чтобы JS не могу взаимодействовать с ним, но оставлю так.